{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Joseph\\\\Desktop\\\\BcThesis\\\\licenta_aplicatie\\\\code-puls\\\\client\\\\src\\\\context\\\\context.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from \"react\";\nimport axios from \"axios\";\nimport { useHistory } from \"react-router-dom\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst rootURL = \"http://localhost:5000/api\";\nconst judge0Languges = [{\n  id: 48,\n  name: \"C (GCC 7.4.0)\"\n}, {\n  id: 51,\n  name: \"C# (Mono 6.6.0.161)\"\n}, {\n  id: 52,\n  name: \"C++ (GCC 7.4.0)\"\n}, {\n  id: 63,\n  name: \"JavaScript (Node.js 12.14.0)\"\n}, {\n  id: 62,\n  name: \"Java (OpenJDK 13.0.1)\"\n}, {\n  id: 71,\n  name: \"Python (3.8.1)\"\n}];\nconst ace = [{\n  id: 48,\n  name: \"c_cpp\"\n}, {\n  id: 51,\n  name: \"csharp\"\n}, {\n  id: 52,\n  name: \"c_cpp\"\n}, {\n  id: 63,\n  name: \"javascript\"\n}, {\n  id: 62,\n  name: \"java\"\n}, {\n  id: 71,\n  name: \"python\"\n}];\nconst AppContext = /*#__PURE__*/React.createContext();\n\nconst AppProvider = ({\n  children\n}) => {\n  _s();\n\n  const history = useHistory();\n  const [isLoading, setIsLoading] = useState(false);\n  const [showNavbar, setShowNavbar] = useState(true);\n  const [showHeader, setShowHeader] = useState(true);\n  const [testQuestions, setTestQuestions] = useState([{\n    id: -1,\n    descriere: \"\",\n    raspunsuri: \"\"\n  }]);\n  const [aceLanguages] = useState(ace);\n  const testInProgress = localStorage.getItem(\"testInProgress\");\n  const [testState, setTestState] = useState(testInProgress ? JSON.parse(testInProgress) : {// id: -1,\n    // id_limbaj_programare: 48,\n  });\n\n  const setTestInProgress = test => {\n    localStorage.setItem(\"testInProgress\", JSON.stringify(test)); // console.log(\"test\");\n\n    setTestState(test);\n  };\n\n  const removeTestInProgress = () => {\n    console.log(\"iesi\");\n    localStorage.removeItem(\"testInProgress\");\n    setTimeout(() => {\n      history.push(\"/tests\");\n      setTestState({});\n    }, 1000);\n  };\n\n  const [codeEditorText, setCodeEditorText] = useState();\n\n  const getTestQuestions = async testId => {\n    console.log(\"getting questions from db..\");\n    setIsLoading(true);\n    const response = await axios.get(`${rootURL}/assignments/${testId}/questions`).catch(err => console.log(err));\n\n    if (response) {\n      console.log(response.data);\n      setTestQuestions(response.data);\n    }\n\n    setIsLoading(false);\n  };\n\n  function encode(str) {\n    return btoa(unescape(encodeURIComponent(str || \"\")));\n  }\n\n  function decode(bytes) {\n    var escaped = escape(atob(bytes || \"\"));\n\n    try {\n      return decodeURIComponent(escaped);\n    } catch {\n      return unescape(escaped);\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(AppContext.Provider, {\n    value: {\n      // tests,\n      isLoading,\n      // getStudentTests,\n      showNavbar,\n      setShowNavbar,\n      testQuestions,\n      getTestQuestions,\n      aceLanguages,\n      judge0Languges,\n      setIsLoading,\n      codeEditorText,\n      setCodeEditorText,\n      encode,\n      decode,\n      showHeader,\n      setShowHeader,\n      testState,\n      setTestInProgress,\n      removeTestInProgress\n    },\n    children: [children, \" \"]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 91,\n    columnNumber: 5\n  }, this);\n};\n\n_s(AppProvider, \"t0Ovu51tsZ5oOi5w6ns7HmBDRQM=\", false, function () {\n  return [useHistory];\n});\n\n_c = AppProvider;\nexport { AppContext, AppProvider };\n\nvar _c;\n\n$RefreshReg$(_c, \"AppProvider\");","map":{"version":3,"sources":["C:/Users/Joseph/Desktop/BcThesis/licenta_aplicatie/code-puls/client/src/context/context.js"],"names":["React","useState","axios","useHistory","rootURL","judge0Languges","id","name","ace","AppContext","createContext","AppProvider","children","history","isLoading","setIsLoading","showNavbar","setShowNavbar","showHeader","setShowHeader","testQuestions","setTestQuestions","descriere","raspunsuri","aceLanguages","testInProgress","localStorage","getItem","testState","setTestState","JSON","parse","setTestInProgress","test","setItem","stringify","removeTestInProgress","console","log","removeItem","setTimeout","push","codeEditorText","setCodeEditorText","getTestQuestions","testId","response","get","catch","err","data","encode","str","btoa","unescape","encodeURIComponent","decode","bytes","escaped","escape","atob","decodeURIComponent"],"mappings":"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","sourcesContent":["import React, { useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useHistory } from \"react-router-dom\";\r\nconst rootURL = \"http://localhost:5000/api\";\r\n\r\nconst judge0Languges = [\r\n  { id: 48, name: \"C (GCC 7.4.0)\" },\r\n  { id: 51, name: \"C# (Mono 6.6.0.161)\" },\r\n  { id: 52, name: \"C++ (GCC 7.4.0)\" },\r\n  { id: 63, name: \"JavaScript (Node.js 12.14.0)\" },\r\n  { id: 62, name: \"Java (OpenJDK 13.0.1)\" },\r\n  { id: 71, name: \"Python (3.8.1)\" },\r\n];\r\n\r\nconst ace = [\r\n  { id: 48, name: \"c_cpp\" },\r\n  { id: 51, name: \"csharp\" },\r\n  { id: 52, name: \"c_cpp\" },\r\n  { id: 63, name: \"javascript\" },\r\n  { id: 62, name: \"java\" },\r\n  { id: 71, name: \"python\" },\r\n];\r\n\r\nconst AppContext = React.createContext();\r\n\r\nconst AppProvider = ({ children }) => {\r\n  const history = useHistory();\r\n\r\n  const [isLoading, setIsLoading] = useState(false);\r\n  const [showNavbar, setShowNavbar] = useState(true);\r\n  const [showHeader, setShowHeader] = useState(true);\r\n  const [testQuestions, setTestQuestions] = useState([\r\n    { id: -1, descriere: \"\", raspunsuri: \"\" },\r\n  ]);\r\n  const [aceLanguages] = useState(ace);\r\n\r\n  const testInProgress = localStorage.getItem(\"testInProgress\");\r\n\r\n  const [testState, setTestState] = useState(\r\n    testInProgress\r\n      ? JSON.parse(testInProgress)\r\n      : {\r\n          // id: -1,\r\n          // id_limbaj_programare: 48,\r\n        }\r\n  );\r\n  const setTestInProgress = (test) => {\r\n    localStorage.setItem(\"testInProgress\", JSON.stringify(test));\r\n    // console.log(\"test\");\r\n    setTestState(test);\r\n  };\r\n\r\n  const removeTestInProgress = () => {\r\n    console.log(\"iesi\");\r\n    localStorage.removeItem(\"testInProgress\");\r\n    setTimeout(() => {\r\n      history.push(\"/tests\");\r\n      setTestState({});\r\n    }, 1000);\r\n  };\r\n\r\n  const [codeEditorText, setCodeEditorText] = useState();\r\n\r\n  const getTestQuestions = async (testId) => {\r\n    console.log(\"getting questions from db..\");\r\n    setIsLoading(true);\r\n    const response = await axios\r\n      .get(`${rootURL}/assignments/${testId}/questions`)\r\n      .catch((err) => console.log(err));\r\n\r\n    if (response) {\r\n      console.log(response.data);\r\n      setTestQuestions(response.data);\r\n    }\r\n    setIsLoading(false);\r\n  };\r\n\r\n  function encode(str) {\r\n    return btoa(unescape(encodeURIComponent(str || \"\")));\r\n  }\r\n  function decode(bytes) {\r\n    var escaped = escape(atob(bytes || \"\"));\r\n    try {\r\n      return decodeURIComponent(escaped);\r\n    } catch {\r\n      return unescape(escaped);\r\n    }\r\n  }\r\n\r\n  return (\r\n    <AppContext.Provider\r\n      value={{\r\n        // tests,\r\n        isLoading,\r\n        // getStudentTests,\r\n        showNavbar,\r\n        setShowNavbar,\r\n        testQuestions,\r\n        getTestQuestions,\r\n        aceLanguages,\r\n        judge0Languges,\r\n        setIsLoading,\r\n        codeEditorText,\r\n        setCodeEditorText,\r\n        encode,\r\n        decode,\r\n        showHeader,\r\n        setShowHeader,\r\n        testState,\r\n        setTestInProgress,\r\n        removeTestInProgress,\r\n      }}\r\n    >\r\n      {children}{\" \"}\r\n    </AppContext.Provider>\r\n  );\r\n};\r\n\r\nexport { AppContext, AppProvider };\r\n"]},"metadata":{},"sourceType":"module"}