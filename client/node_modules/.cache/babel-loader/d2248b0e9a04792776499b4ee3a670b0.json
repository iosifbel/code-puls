{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Joseph\\\\Desktop\\\\BcThesis\\\\licenta_aplicatie\\\\code-puls\\\\client\\\\src\\\\pages\\\\evaluateTest.js\",\n    _s = $RefreshSig$();\n\nimport { useContext, useState, useEffect } from \"react\";\nimport styled from \"styled-components\";\nimport theme from \"../Assets/theme\";\nimport { AppContext } from \"../context\";\nimport { QuestionSlider, CodeEditor } from \"../components\";\nimport { Card, Button } from \"../components/defaultComponents\";\nimport { Formik, useFormik } from \"formik\";\nimport * as yup from \"yup\";\nimport { Form, Col } from \"react-bootstrap\"; // import \"bootstrap/dist/css/bootstrap.min.css\";\n\nimport MuiAlert from \"@material-ui/lab/Alert\";\nimport axios, { handleAxiosError, handleUnexpectedError } from \"axios\";\nimport { utils } from \"../context\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst schema = yup.object().shape({\n  feedback: yup.string(),\n  finalGrade: yup.string().matches(/^([1-9]{1}(\\.\\d{1,2})?|10)$/, \"Format acceptat: 9.97\").required(\"Nota finala trebuie compeltata\")\n});\n\nconst processData = data => {\n  try {\n    let {\n      incercare,\n      evaluareAutomata\n    } = data;\n    incercare = incercare.substring(1, incercare.length - 1);\n    data.incercare = JSON.parse(incercare); // data.evaluareAutomata = JSON.parse(evaluareAutomata);\n  } catch (error) {\n    console.log(error);\n  }\n};\n\nconst getSubmission = async (student_id, test_id, setSubmission, setIsLoading) => {\n  try {\n    setIsLoading(true);\n    const {\n      data\n    } = await axios.get(`${utils.rootURL}/grades/submission/${test_id}/${student_id}`);\n    console.log(data);\n    processData(data);\n    console.log(data);\n  } catch (error) {\n    if (axios.isAxiosError(error)) {\n      handleAxiosError(error);\n    } else {\n      handleUnexpectedError(error);\n    }\n  }\n\n  setIsLoading(false);\n};\n\nfunction EvaluateTest() {\n  _s();\n\n  const {\n    setShowNavbar,\n    testState,\n    setTestInProgress\n  } = useContext(AppContext);\n  const [submission, setSubmission] = useState();\n  const [isLoading, setIsLoading] = useState(false);\n  useEffect(() => {\n    console.log(\"esti in pagina de evaluare boss\");\n    console.log(testState);\n    getSubmission(testState.id, testState.id_test, setSubmission, setIsLoading);\n  }, [testState]);\n  setShowNavbar(false);\n  return /*#__PURE__*/_jsxDEV(Formik, {\n    validateOnSubmit: true,\n    validationSchema: schema,\n    onSubmit: values => {\n      console.log(values);\n    },\n    initialValues: {\n      finalGrade: \"\",\n      feedback: \"\",\n      automaticGrade: \"2\"\n    },\n    children: ({\n      handleSubmit,\n      handleChange,\n      handleBlur,\n      values,\n      touched,\n      isValid,\n      errors\n    }) => /*#__PURE__*/_jsxDEV(Form, {\n      noValidate: true,\n      onSubmit: handleSubmit,\n      children: /*#__PURE__*/_jsxDEV(Wrapper, {\n        children: [/*#__PURE__*/_jsxDEV(EditorCard, {\n          children: [/*#__PURE__*/_jsxDEV(QuestionSlider, {\n            questions: [\"ceva\", \"altceva\"]\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(CodeEditor, {\n            language: \"javascript\",\n            value: \"console.log('test');\",\n            defaultCode: \"console.log('test');\",\n            callback: () => console.log()\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 97,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 95,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(ConsoleCard, {\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Output:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 106,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 105,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            children: /*#__PURE__*/_jsxDEV(\"p\", {\n              children: \"Test Case Status:\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 111,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 110,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 104,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(FeedbackCard, {\n          children: [/*#__PURE__*/_jsxDEV(Banner, {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Comentarii \\u0219i feedback\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 119,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 118,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(TextArea, {\n            rows: \"20\",\n            name: \"feedback\",\n            value: values.feedback,\n            onChange: handleChange\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 121,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 117,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(GradeCard, {\n          children: /*#__PURE__*/_jsxDEV(Form.Row, {\n            className: \"justify-content-around align-items-center\",\n            children: [/*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Not\\u0103 final\\u0103\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 131,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 130,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: \"auto\",\n              children: [/*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"text-center\",\n                name: \"finalGrade\",\n                type: \"text\",\n                value: values.finalGrade,\n                onBlur: handleBlur,\n                onChange: handleChange,\n                placeholder: \"Introdu nota\",\n                isValid: touched.finalGrade && !errors.finalGrade,\n                isInvalid: touched.finalGrade && !!errors.finalGrade\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 135,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(Form.Control.Feedback, {\n                type: \"invalid\",\n                className: \"position-absolute\",\n                children: /*#__PURE__*/_jsxDEV(MuiAlert, {\n                  severity: \"error\",\n                  elevation: 6,\n                  variant: \"filled\",\n                  children: /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: errors.finalGrade\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 151,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 150,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 134,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Form.Label, {\n              column: true,\n              lg: \"auto\",\n              children: /*#__PURE__*/_jsxDEV(\"p\", {\n                children: \"Not\\u0103 automat\\u0103\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 157,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 156,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(Col, {\n              lg: 3,\n              children: /*#__PURE__*/_jsxDEV(Form.Control, {\n                className: \"text-center\",\n                name: \"automaticGrade\",\n                type: \"text\",\n                value: values.automaticGrade,\n                onBlur: handleBlur,\n                onChange: handleChange,\n                readOnly: true\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 129,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 128,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(SubmitBtn, {\n          children: /*#__PURE__*/_jsxDEV(\"p\", {\n            children: \"Trimite\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 174,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 173,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 94,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 93,\n      columnNumber: 9\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 72,\n    columnNumber: 5\n  }, this);\n}\n\n_s(EvaluateTest, \"yvw18FLYAapSaAi92zcLv5gbz1M=\");\n\n_c = EvaluateTest;\nconst EditorCard = styled(Card)`\n  grid-area: A;\n  margin-left: 1em;\n  overflow: auto;\n`;\n_c2 = EditorCard;\nconst ConsoleCard = styled(Card)`\n  grid-area: B;\n  margin-left: 1em;\n  margin-top: 0.5em;\n  margin-bottom: 0.5em;\n  display: flex;\n  flex-direction: row;\n  justify-content: space-between;\n  overflow: auto;\n  flex-wrap: wrap;\n`;\n_c3 = ConsoleCard;\nconst FeedbackCard = styled(Card)`\n  grid-area: C;\n  margin-right: 1em;\n  margin-bottom: 1rem;\n  padding: 0;\n`;\n_c4 = FeedbackCard;\nconst Banner = styled.div`\n  padding: 0.7rem;\n  padding-left: 1.5rem;\n  background-color: ${theme.Grey1};\n  color: ${theme.mainBlack};\n  h2 {\n    margin: 0;\n    font-size: 1.3rem;\n  }\n`;\n_c5 = Banner;\nconst TextArea = styled.textarea`\n  padding: 2rem;\n  border: none;\n  resize: none;\n  outline: none;\n  height:100%\n  color: ${theme.mainBlack};\n  border-radius: 0 0 10px 10px;\n  font-size: 1rem;\n`;\n_c6 = TextArea;\nconst SubmitBtn = styled(Button)`\n  grid-area: E;\n  display: flex;\n  justify-content: center;\n  align-self: end;\n  justify-self: end;\n  width: 5rem;\n  height: 3rem;\n\n  margin-bottom: 0.5em;\n`;\n_c7 = SubmitBtn;\nconst GradeCard = styled(Card)`\n  grid-area: D;\n  display: flex;\n  justify-content: center;\n  margin-right: 1em;\n  background-color: ${theme.Grey1};\n  p {\n    margin: 0;\n  }\n`;\n_c8 = GradeCard;\nconst Wrapper = styled.div`\n  display: grid;\n  height: 100%;\n  width: 100%;\n  margin-top: 1.5rem;\n  max-height: calc(93vh - 1.5rem);\n\n  font-size: 3rem;\n\n  p {\n    font-size: 1rem;\n  }\n\n  grid-template-columns: repeat(2, 1fr);\n  grid-template-rows: repeat(10, 1fr);\n  grid-template-areas:\n    \"A    C\"\n    \"A    C\"\n    \"A    C\"\n    \"A    C\"\n    \"A    C\"\n    \"A    C\"\n    \"A    D\"\n    \"B    E\"\n    \"B    E\"\n    \"B    E\";\n  grid-column-gap: 1em;\n`;\n_c9 = Wrapper;\nexport default EvaluateTest;\n\nvar _c, _c2, _c3, _c4, _c5, _c6, _c7, _c8, _c9;\n\n$RefreshReg$(_c, \"EvaluateTest\");\n$RefreshReg$(_c2, \"EditorCard\");\n$RefreshReg$(_c3, \"ConsoleCard\");\n$RefreshReg$(_c4, \"FeedbackCard\");\n$RefreshReg$(_c5, \"Banner\");\n$RefreshReg$(_c6, \"TextArea\");\n$RefreshReg$(_c7, \"SubmitBtn\");\n$RefreshReg$(_c8, \"GradeCard\");\n$RefreshReg$(_c9, \"Wrapper\");","map":{"version":3,"sources":["C:/Users/Joseph/Desktop/BcThesis/licenta_aplicatie/code-puls/client/src/pages/evaluateTest.js"],"names":["useContext","useState","useEffect","styled","theme","AppContext","QuestionSlider","CodeEditor","Card","Button","Formik","useFormik","yup","Form","Col","MuiAlert","axios","handleAxiosError","handleUnexpectedError","utils","schema","object","shape","feedback","string","finalGrade","matches","required","processData","data","incercare","evaluareAutomata","substring","length","JSON","parse","error","console","log","getSubmission","student_id","test_id","setSubmission","setIsLoading","get","rootURL","isAxiosError","EvaluateTest","setShowNavbar","testState","setTestInProgress","submission","isLoading","id","id_test","values","automaticGrade","handleSubmit","handleChange","handleBlur","touched","isValid","errors","EditorCard","ConsoleCard","FeedbackCard","Banner","div","Grey1","mainBlack","TextArea","textarea","SubmitBtn","GradeCard","Wrapper"],"mappings":"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","sourcesContent":["import { useContext, useState, useEffect } from \"react\";\r\nimport styled from \"styled-components\";\r\nimport theme from \"../Assets/theme\";\r\nimport { AppContext } from \"../context\";\r\nimport { QuestionSlider, CodeEditor } from \"../components\";\r\nimport { Card, Button } from \"../components/defaultComponents\";\r\nimport { Formik, useFormik } from \"formik\";\r\nimport * as yup from \"yup\";\r\nimport { Form, Col } from \"react-bootstrap\";\r\n// import \"bootstrap/dist/css/bootstrap.min.css\";\r\nimport MuiAlert from \"@material-ui/lab/Alert\";\r\nimport axios, { handleAxiosError, handleUnexpectedError } from \"axios\";\r\nimport { utils } from \"../context\";\r\n\r\nconst schema = yup.object().shape({\r\n  feedback: yup.string(),\r\n  finalGrade: yup\r\n    .string()\r\n    .matches(/^([1-9]{1}(\\.\\d{1,2})?|10)$/, \"Format acceptat: 9.97\")\r\n    .required(\"Nota finala trebuie compeltata\"),\r\n});\r\n\r\nconst processData = (data) => {\r\n  try {\r\n    let { incercare, evaluareAutomata } = data;\r\n    incercare = incercare.substring(1, incercare.length - 1);\r\n    data.incercare = JSON.parse(incercare);\r\n    // data.evaluareAutomata = JSON.parse(evaluareAutomata);\r\n  } catch (error) {\r\n    console.log(error);\r\n  }\r\n};\r\n\r\nconst getSubmission = async (\r\n  student_id,\r\n  test_id,\r\n  setSubmission,\r\n  setIsLoading\r\n) => {\r\n  try {\r\n    setIsLoading(true);\r\n    const { data } = await axios.get(\r\n      `${utils.rootURL}/grades/submission/${test_id}/${student_id}`\r\n    );\r\n    console.log(data);\r\n    processData(data);\r\n    console.log(data);\r\n  } catch (error) {\r\n    if (axios.isAxiosError(error)) {\r\n      handleAxiosError(error);\r\n    } else {\r\n      handleUnexpectedError(error);\r\n    }\r\n  }\r\n  setIsLoading(false);\r\n};\r\n\r\nfunction EvaluateTest() {\r\n  const { setShowNavbar, testState, setTestInProgress } =\r\n    useContext(AppContext);\r\n  const [submission, setSubmission] = useState();\r\n  const [isLoading, setIsLoading] = useState(false);\r\n\r\n  useEffect(() => {\r\n    console.log(\"esti in pagina de evaluare boss\");\r\n    console.log(testState);\r\n    getSubmission(testState.id, testState.id_test, setSubmission, setIsLoading);\r\n  }, [testState]);\r\n\r\n  setShowNavbar(false);\r\n  return (\r\n    <Formik\r\n      validateOnSubmit={true}\r\n      validationSchema={schema}\r\n      onSubmit={(values) => {\r\n        console.log(values);\r\n      }}\r\n      initialValues={{\r\n        finalGrade: \"\",\r\n        feedback: \"\",\r\n        automaticGrade: \"2\",\r\n      }}\r\n    >\r\n      {({\r\n        handleSubmit,\r\n        handleChange,\r\n        handleBlur,\r\n        values,\r\n        touched,\r\n        isValid,\r\n        errors,\r\n      }) => (\r\n        <Form noValidate onSubmit={handleSubmit}>\r\n          <Wrapper>\r\n            <EditorCard>\r\n              <QuestionSlider questions={[\"ceva\", \"altceva\"]}></QuestionSlider>\r\n              <CodeEditor\r\n                language={\"javascript\"}\r\n                value={\"console.log('test');\"}\r\n                defaultCode={\"console.log('test');\"}\r\n                callback={() => console.log()}\r\n              ></CodeEditor>\r\n            </EditorCard>\r\n            <ConsoleCard>\r\n              <div>\r\n                <p>Output:</p>\r\n                {/* {!isConsoleLoading && stdout && <p>{stdout}</p>}\r\n                {isConsoleLoading && <p>Loading...</p>} */}\r\n              </div>\r\n              <div>\r\n                <p>Test Case Status:</p>\r\n                {/* {!isConsoleLoading && testCaseStatus && <p>{testCaseStatus}</p>}\r\n                {isConsoleLoading && <p>Loading...</p>} */}\r\n              </div>\r\n            </ConsoleCard>\r\n\r\n            <FeedbackCard>\r\n              <Banner>\r\n                <h2>Comentarii și feedback</h2>\r\n              </Banner>\r\n              <TextArea\r\n                rows=\"20\"\r\n                name=\"feedback\"\r\n                value={values.feedback}\r\n                onChange={handleChange}\r\n              ></TextArea>\r\n            </FeedbackCard>\r\n            <GradeCard>\r\n              <Form.Row className=\"justify-content-around align-items-center\">\r\n                <Form.Label column lg=\"auto\">\r\n                  <p>Notă finală</p>\r\n                </Form.Label>\r\n\r\n                <Col lg=\"auto\">\r\n                  <Form.Control\r\n                    className=\"text-center\"\r\n                    name=\"finalGrade\"\r\n                    type=\"text\"\r\n                    value={values.finalGrade}\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    placeholder=\"Introdu nota\"\r\n                    isValid={touched.finalGrade && !errors.finalGrade}\r\n                    isInvalid={touched.finalGrade && !!errors.finalGrade}\r\n                  />\r\n                  <Form.Control.Feedback\r\n                    type=\"invalid\"\r\n                    className=\"position-absolute\"\r\n                  >\r\n                    <MuiAlert severity=\"error\" elevation={6} variant=\"filled\">\r\n                      <p>{errors.finalGrade}</p>\r\n                    </MuiAlert>\r\n                  </Form.Control.Feedback>\r\n                </Col>\r\n\r\n                <Form.Label column lg=\"auto\">\r\n                  <p>Notă automată</p>\r\n                </Form.Label>\r\n\r\n                <Col lg={3}>\r\n                  <Form.Control\r\n                    className=\"text-center\"\r\n                    name=\"automaticGrade\"\r\n                    type=\"text\"\r\n                    value={values.automaticGrade}\r\n                    onBlur={handleBlur}\r\n                    onChange={handleChange}\r\n                    readOnly\r\n                  />\r\n                </Col>\r\n              </Form.Row>\r\n            </GradeCard>\r\n            <SubmitBtn>\r\n              <p>Trimite</p>\r\n            </SubmitBtn>\r\n          </Wrapper>\r\n        </Form>\r\n      )}\r\n    </Formik>\r\n  );\r\n}\r\n\r\nconst EditorCard = styled(Card)`\r\n  grid-area: A;\r\n  margin-left: 1em;\r\n  overflow: auto;\r\n`;\r\n\r\nconst ConsoleCard = styled(Card)`\r\n  grid-area: B;\r\n  margin-left: 1em;\r\n  margin-top: 0.5em;\r\n  margin-bottom: 0.5em;\r\n  display: flex;\r\n  flex-direction: row;\r\n  justify-content: space-between;\r\n  overflow: auto;\r\n  flex-wrap: wrap;\r\n`;\r\n\r\nconst FeedbackCard = styled(Card)`\r\n  grid-area: C;\r\n  margin-right: 1em;\r\n  margin-bottom: 1rem;\r\n  padding: 0;\r\n`;\r\n\r\nconst Banner = styled.div`\r\n  padding: 0.7rem;\r\n  padding-left: 1.5rem;\r\n  background-color: ${theme.Grey1};\r\n  color: ${theme.mainBlack};\r\n  h2 {\r\n    margin: 0;\r\n    font-size: 1.3rem;\r\n  }\r\n`;\r\n\r\nconst TextArea = styled.textarea`\r\n  padding: 2rem;\r\n  border: none;\r\n  resize: none;\r\n  outline: none;\r\n  height:100%\r\n  color: ${theme.mainBlack};\r\n  border-radius: 0 0 10px 10px;\r\n  font-size: 1rem;\r\n`;\r\n\r\nconst SubmitBtn = styled(Button)`\r\n  grid-area: E;\r\n  display: flex;\r\n  justify-content: center;\r\n  align-self: end;\r\n  justify-self: end;\r\n  width: 5rem;\r\n  height: 3rem;\r\n\r\n  margin-bottom: 0.5em;\r\n`;\r\n\r\nconst GradeCard = styled(Card)`\r\n  grid-area: D;\r\n  display: flex;\r\n  justify-content: center;\r\n  margin-right: 1em;\r\n  background-color: ${theme.Grey1};\r\n  p {\r\n    margin: 0;\r\n  }\r\n`;\r\n\r\nconst Wrapper = styled.div`\r\n  display: grid;\r\n  height: 100%;\r\n  width: 100%;\r\n  margin-top: 1.5rem;\r\n  max-height: calc(93vh - 1.5rem);\r\n\r\n  font-size: 3rem;\r\n\r\n  p {\r\n    font-size: 1rem;\r\n  }\r\n\r\n  grid-template-columns: repeat(2, 1fr);\r\n  grid-template-rows: repeat(10, 1fr);\r\n  grid-template-areas:\r\n    \"A    C\"\r\n    \"A    C\"\r\n    \"A    C\"\r\n    \"A    C\"\r\n    \"A    C\"\r\n    \"A    C\"\r\n    \"A    D\"\r\n    \"B    E\"\r\n    \"B    E\"\r\n    \"B    E\";\r\n  grid-column-gap: 1em;\r\n`;\r\n\r\nexport default EvaluateTest;\r\n"]},"metadata":{},"sourceType":"module"}